---
import Layout from '../layouts/Layout.astro';
import Nav from '../components/Nav.astro';
import Footer from '../components/Footer.astro';
import Button from '../components/ui/Button.astro';
import ServiceCard from '../components/ui/ServiceCard.astro';
import SectionHeader from '../components/ui/SectionHeader.astro';
import { useTranslations } from '../i18n/ui';
import { heroVideos, videoUrl } from '../config/videos';

const t = useTranslations('en');
const hero = heroVideos.home;
---

<Layout title="Cinematic Production. Global Vision.">
  <Nav />

  <main>
    <!-- Hero Section -->
    <section class="relative min-h-screen flex items-center justify-center overflow-hidden">
      <!-- Video Background -->
      <div class="absolute inset-0 bg-brand-black">
        <video
          class="absolute inset-0 w-full h-full object-cover"
          autoplay muted loop playsinline
          poster={videoUrl(hero.poster)}
        >
          <source src={videoUrl(hero.desktop)} type="video/mp4" />
        </video>
        <div class="absolute inset-0 bg-brand-black/60"></div>
        <div class="absolute inset-0 bg-gradient-to-t from-brand-black via-transparent to-brand-black/40"></div>
        <div class="film-grain"></div>
      </div>

      <!-- Content -->
      <div class="container relative z-10 text-center pt-20">
        <div class="max-w-5xl mx-auto">
          <div class="accent-line mx-auto mb-10 w-20"></div>

          <h1 class="font-display text-5xl md:text-7xl lg:text-8xl font-medium text-brand-cream mb-8 leading-[1.1] reveal-on-scroll">
            {t('hero.title')}
          </h1>

          <p class="text-lg md:text-2xl text-brand-gray-light max-w-2xl mx-auto mb-16 font-light reveal-on-scroll delay-100">
            {t('hero.subtitle')}
          </p>

          <div class="flex flex-col sm:flex-row items-center justify-center gap-6 reveal-on-scroll delay-200">
            <Button href="/portfolio" variant="primary">
              {t('hero.cta.work')}
            </Button>
            <Button href="/contact" variant="outline">
              {t('hero.cta.project')}
            </Button>
          </div>
        </div>

        <!-- Scroll Indicator -->
        <div class="absolute bottom-12 left-1/2 -translate-x-1/2 animate-bounce reveal-on-scroll delay-500">
          <div class="w-6 h-10 border-2 border-brand-gray-dark rounded-full flex justify-center p-1">
            <div class="w-1 h-2 bg-brand-gold rounded-full"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Services Section -->
    <section class="section bg-brand-black">
      <div class="container">
        <SectionHeader 
          title={t('services.title')} 
          subtitle="What We Create"
          align="center" 
          class="max-w-3xl"
        />

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <ServiceCard
            number="01"
            title={t('service.corporate.title')}
            tagline={t('service.corporate.tagline')}
            href="/services/corporate-film"
          />
          <ServiceCard
            number="02"
             title={t('service.podcasts.title')}
            tagline={t('service.podcasts.tagline')}
            href="/services/podcasts"
          />
          <ServiceCard
            number="03"
            title={t('service.events.title')}
            tagline={t('service.events.tagline')}
            href="/services/events"
          />
          <ServiceCard
            number="04"
            title={t('service.social.title')}
            tagline={t('service.social.tagline')}
            href="/services/social-media"
          />
          <ServiceCard
            number="05"
            title={t('service.streaming.title')}
            tagline={t('service.streaming.tagline')}
            href="/services/streaming"
          />
          <ServiceCard
            number="06"
            title={t('service.realestate.title')}
            tagline={t('service.realestate.tagline')}
            href="/services/real-estate-3d"
          />
        </div>
      </div>
    </section>

    <!-- Stats Section -->
    <section class="py-24 bg-brand-black-light border-y border-brand-gray-dark/20">
      <div class="container">
        <div class="grid grid-cols-2 lg:grid-cols-4 gap-12 lg:gap-8 divide-x divide-brand-gray-dark/10">
          <div class="text-center md:text-left md:pl-8">
            <span class="block font-display text-6xl md:text-7xl lg:text-8xl text-brand-gold leading-none pb-2">15+</span>
            <span class="text-sm font-medium uppercase tracking-[0.2em] text-brand-gray-light bg-clip-text">Years Experience</span>
          </div>
          <div class="text-center md:text-left md:pl-8">
            <span class="block font-display text-6xl md:text-7xl lg:text-8xl text-brand-gold leading-none pb-2">200+</span>
            <span class="text-sm font-medium uppercase tracking-[0.2em] text-brand-gray-light">Projects Delivered</span>
          </div>
          <div class="text-center md:text-left md:pl-8">
            <span class="block font-display text-6xl md:text-7xl lg:text-8xl text-brand-gold leading-none pb-2">8</span>
            <span class="text-sm font-medium uppercase tracking-[0.2em] text-brand-gray-light">Countries</span>
          </div>
          <div class="text-center md:text-left md:pl-8">
            <span class="block font-display text-6xl md:text-7xl lg:text-8xl text-brand-gold leading-none pb-2">50+</span>
            <span class="text-sm font-medium uppercase tracking-[0.2em] text-brand-gray-light">Happy Clients</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Process Section -->
    <section class="section bg-brand-black">
      <div class="container">
        <SectionHeader 
          title={t('process.title')} 
          subtitle="Our Methodology"
          align="center"
        />

        <div class="relative mt-20">
          <!-- Connection Line (Desktop) -->
          <div class="hidden md:block absolute top-[2.5rem] left-0 right-0 h-px bg-gradient-to-r from-transparent via-brand-gray-dark/50 to-transparent"></div>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-12 md:gap-8">
            <!-- Phase 1 -->
            <div class="relative text-center group">
              <div class="w-20 h-20 mx-auto bg-brand-black border border-brand-gold text-brand-gold rounded-full flex items-center justify-center font-display text-3xl mb-8 relative z-10 transition-transform duration-500 group-hover:scale-110 shadow-[0_0_30px_rgba(200,164,85,0.1)]">01</div>
              <h3 class="font-display text-3xl text-brand-cream mb-4">{t('process.pre.title')}</h3>
              <p class="text-brand-gray font-light leading-relaxed max-w-sm mx-auto">{t('process.pre.description')}</p>
            </div>

            <!-- Phase 2 -->
            <div class="relative text-center group">
              <div class="w-20 h-20 mx-auto bg-brand-black border border-brand-gold text-brand-gold rounded-full flex items-center justify-center font-display text-3xl mb-8 relative z-10 transition-transform duration-500 group-hover:scale-110 shadow-[0_0_30px_rgba(200,164,85,0.1)]">02</div>
              <h3 class="font-display text-3xl text-brand-cream mb-4">{t('process.production.title')}</h3>
              <p class="text-brand-gray font-light leading-relaxed max-w-sm mx-auto">{t('process.production.description')}</p>
            </div>

            <!-- Phase 3 -->
            <div class="relative text-center group">
              <div class="w-20 h-20 mx-auto bg-brand-black border border-brand-gold text-brand-gold rounded-full flex items-center justify-center font-display text-3xl mb-8 relative z-10 transition-transform duration-500 group-hover:scale-110 shadow-[0_0_30px_rgba(200,164,85,0.1)]">03</div>
              <h3 class="font-display text-3xl text-brand-cream mb-4">{t('process.post.title')}</h3>
              <p class="text-brand-gray font-light leading-relaxed max-w-sm mx-auto">{t('process.post.description')}</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Featured Placeholder (To be replaced with Portfolio Grid) -->
    
    <!-- CTA Section -->
    <section class="section bg-brand-black text-center border-t border-brand-gray-dark/20">
      <div class="container">
        <div class="max-w-4xl mx-auto">
          <SectionHeader 
             title="Let's Create Something Extraordinary"
             subtitle="Start Your Project"
             align="center"
          />
          <p class="text-xl md:text-2xl text-brand-gray-light font-light mb-12">
            Tell us about your next project and let's bring your vision to life with cinematic precision.
          </p>
          <Button href="/contact" variant="primary" class="bg-brand-gold text-brand-black hover:bg-brand-gold-light">
            Get in Touch
          </Button>
        </div>
      </div>
    </section>

  </main>
  <Footer />
</Layout>

<script>
  // Simple scroll reveal
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('is-visible');
      }
    });
  }, { threshold: 0.1 });

  document.querySelectorAll('.reveal-on-scroll').forEach((el) => {
    observer.observe(el);
  });
</script>
